


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > Envelope3D</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">com.esri.core.geometry</a>
</div>

<h1>Coverage Summary for Class: Envelope3D (com.esri.core.geometry)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Envelope3D</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/34)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/176)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;/*
&nbsp; Copyright 1995-2015 Esri
&nbsp;
&nbsp;   Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
&nbsp;   you may not use this file except in compliance with the License.
&nbsp;   You may obtain a copy of the License at
&nbsp;
&nbsp;       http://www.apache.org/licenses/LICENSE-2.0
&nbsp;
&nbsp;   Unless required by applicable law or agreed to in writing, software
&nbsp;   distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
&nbsp;   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
&nbsp;   See the License for the specific language governing permissions and
&nbsp;   limitations under the License.
&nbsp;
&nbsp; For additional information, contact:
&nbsp; Environmental Systems Research Institute, Inc.
&nbsp; Attn: Contracts Dept
&nbsp; 380 New York Street
&nbsp; Redlands, California, USA 92373
&nbsp;
&nbsp; email: contracts@esri.com
&nbsp; */
&nbsp;
&nbsp;
&nbsp;package com.esri.core.geometry;
&nbsp;
&nbsp;import java.io.Serializable;
&nbsp;
&nbsp;/**
&nbsp; * A class that represents axis parallel 3D rectangle.
&nbsp; */
&nbsp;public final class Envelope3D implements Serializable{
&nbsp;	private static final long serialVersionUID = 1L;
&nbsp;	
&nbsp;	public double xmin;
&nbsp;
&nbsp;	public double ymin;
&nbsp;
&nbsp;	public double zmin;
&nbsp;
&nbsp;	public double xmax;
&nbsp;
&nbsp;	public double ymax;
&nbsp;
&nbsp;	public double zmax;
&nbsp;
&nbsp;	public static Envelope3D construct(double _xmin, double _ymin,
&nbsp;			double _zmin, double _xmax, double _ymax, double _zmax) {
<b class="nc">&nbsp;		Envelope3D env = new Envelope3D(_xmin, _ymin, _zmin, _xmax, _ymax, _zmax);</b>
<b class="nc">&nbsp;		return env;</b>
&nbsp;	}
&nbsp;
<b class="nc">&nbsp;	public Envelope3D(double _xmin, double _ymin, double _zmin, double _xmax, double _ymax, double _zmax) {</b>
<b class="nc">&nbsp;		setCoords(_xmin, _ymin, _zmin, _xmax, _ymax, _zmax);</b>
&nbsp;	}
&nbsp;
<b class="nc">&nbsp;	public Envelope3D() {</b>
&nbsp;
&nbsp;	}
&nbsp;
<b class="nc">&nbsp;	public Envelope3D(Envelope3D other) {</b>
<b class="nc">&nbsp;		setCoords(other);</b>
&nbsp;	}
&nbsp;
&nbsp;	
&nbsp;	public void setInfinite() {
<b class="nc">&nbsp;		xmin = NumberUtils.negativeInf();</b>
<b class="nc">&nbsp;		xmax = NumberUtils.positiveInf();</b>
<b class="nc">&nbsp;		ymin = NumberUtils.negativeInf();</b>
<b class="nc">&nbsp;		ymax = NumberUtils.positiveInf();</b>
<b class="nc">&nbsp;		zmin = NumberUtils.negativeInf();</b>
<b class="nc">&nbsp;		zmax = NumberUtils.positiveInf();</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setEmpty() {
<b class="nc">&nbsp;		xmin = NumberUtils.NaN();</b>
<b class="nc">&nbsp;		ymin = NumberUtils.NaN();</b>
<b class="nc">&nbsp;		zmin = NumberUtils.NaN();</b>
<b class="nc">&nbsp;		xmax = 0;</b>
<b class="nc">&nbsp;		ymax = 0;</b>
<b class="nc">&nbsp;		zmax = 0;</b>
&nbsp;	}
&nbsp;
&nbsp;	public boolean isEmpty() {
<b class="nc">&nbsp;		return NumberUtils.isNaN(xmin);</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setEmptyZ() {
<b class="nc">&nbsp;		zmin = NumberUtils.NaN();</b>
&nbsp;	}
&nbsp;
&nbsp;	public boolean isEmptyZ() {
<b class="nc">&nbsp;		return NumberUtils.isNaN(zmin);</b>
&nbsp;	}
&nbsp;
&nbsp;	public boolean hasEmptyDimension() {
<b class="nc">&nbsp;		return isEmpty() || isEmptyZ();</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setCoords(double _xmin, double _ymin, double _zmin,
&nbsp;			double _xmax, double _ymax, double _zmax) {
<b class="nc">&nbsp;		xmin = _xmin;</b>
<b class="nc">&nbsp;		ymin = _ymin;</b>
<b class="nc">&nbsp;		zmin = _zmin;</b>
<b class="nc">&nbsp;		xmax = _xmax;</b>
<b class="nc">&nbsp;		ymax = _ymax;</b>
<b class="nc">&nbsp;		zmax = _zmax;</b>
<b class="nc">&nbsp;		normalize();</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setCoords(double _x, double _y, double _z) {
<b class="nc">&nbsp;		xmin = _x;</b>
<b class="nc">&nbsp;		ymin = _y;</b>
<b class="nc">&nbsp;		zmin = _z;</b>
<b class="nc">&nbsp;		xmax = _x;</b>
<b class="nc">&nbsp;		ymax = _y;</b>
<b class="nc">&nbsp;		zmax = _z;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setCoords(Point3D center, double width, double height,
&nbsp;			double depth) {
<b class="nc">&nbsp;		xmin = center.x - width * 0.5;</b>
<b class="nc">&nbsp;		xmax = xmin + width;</b>
<b class="nc">&nbsp;		ymin = center.y - height * 0.5;</b>
<b class="nc">&nbsp;		ymax = ymin + height;</b>
<b class="nc">&nbsp;		zmin = center.z - depth * 0.5;</b>
<b class="nc">&nbsp;		zmax = zmin + depth;</b>
<b class="nc">&nbsp;		normalize();</b>
&nbsp;	}
&nbsp;
&nbsp;	public void setCoords(Envelope3D envSrc) {
&nbsp;
<b class="nc">&nbsp;		setCoords(envSrc.xmin, envSrc.ymin, envSrc.zmin, envSrc.xmax, envSrc.ymax, envSrc.zmax);</b>
&nbsp;	}
&nbsp;
&nbsp;	public double getWidth() {
<b class="nc">&nbsp;		return xmax - xmin;</b>
&nbsp;	}
&nbsp;
&nbsp;	public double getHeight() {
<b class="nc">&nbsp;		return ymax - ymin;</b>
&nbsp;	}
&nbsp;
&nbsp;	public double getDepth() {
<b class="nc">&nbsp;		return zmax - zmin;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void move(Point3D vector) {
<b class="nc">&nbsp;		xmin += vector.x;</b>
<b class="nc">&nbsp;		ymin += vector.y;</b>
<b class="nc">&nbsp;		zmin += vector.z;</b>
<b class="nc">&nbsp;		xmax += vector.x;</b>
<b class="nc">&nbsp;		ymax += vector.y;</b>
<b class="nc">&nbsp;		zmax += vector.z;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void normalize() {
<b class="nc">&nbsp;		if (isEmpty())</b>
&nbsp;			return;
&nbsp;
<b class="nc">&nbsp;		double min = Math.min(xmin, xmax);</b>
<b class="nc">&nbsp;		double max = Math.max(xmin, xmax);</b>
<b class="nc">&nbsp;		xmin = min;</b>
<b class="nc">&nbsp;		xmax = max;</b>
<b class="nc">&nbsp;		min = Math.min(ymin, ymax);</b>
<b class="nc">&nbsp;		max = Math.max(ymin, ymax);</b>
<b class="nc">&nbsp;		ymin = min;</b>
<b class="nc">&nbsp;		ymax = max;</b>
<b class="nc">&nbsp;		min = Math.min(zmin, zmax);</b>
<b class="nc">&nbsp;		max = Math.max(zmin, zmax);</b>
<b class="nc">&nbsp;		zmin = min;</b>
<b class="nc">&nbsp;		zmax = max;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void copyTo(Envelope2D env) {
<b class="nc">&nbsp;		env.xmin = xmin;</b>
<b class="nc">&nbsp;		env.ymin = ymin;</b>
<b class="nc">&nbsp;		env.xmax = xmax;</b>
<b class="nc">&nbsp;		env.ymax = ymax;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void mergeNE(double x, double y, double z) {
<b class="nc">&nbsp;		if (xmin &gt; x)</b>
<b class="nc">&nbsp;			xmin = x;</b>
<b class="nc">&nbsp;		else if (xmax &lt; x)</b>
<b class="nc">&nbsp;			xmax = x;</b>
&nbsp;
<b class="nc">&nbsp;		if (ymin &gt; y)</b>
<b class="nc">&nbsp;			ymin = y;</b>
<b class="nc">&nbsp;		else if (ymax &lt; y)</b>
<b class="nc">&nbsp;			ymax = y;</b>
&nbsp;
<b class="nc">&nbsp;		if (zmin != NumberUtils.NaN()) {</b>
<b class="nc">&nbsp;			if (zmin &gt; z)</b>
<b class="nc">&nbsp;				zmin = z;</b>
<b class="nc">&nbsp;			else if (zmax &lt; z)</b>
<b class="nc">&nbsp;				zmax = z;</b>
<b class="nc">&nbsp;		} else {</b>
<b class="nc">&nbsp;			zmin = z;</b>
<b class="nc">&nbsp;			zmax = z;</b>
&nbsp;		}
&nbsp;	}
&nbsp;
&nbsp;	public void merge(double x, double y, double z) {
<b class="nc">&nbsp;		if (isEmpty()) {</b>
<b class="nc">&nbsp;			xmin = x;</b>
<b class="nc">&nbsp;			ymin = y;</b>
<b class="nc">&nbsp;			zmin = z;</b>
<b class="nc">&nbsp;			xmax = x;</b>
<b class="nc">&nbsp;			ymax = y;</b>
<b class="nc">&nbsp;			zmax = z;</b>
<b class="nc">&nbsp;		} else {</b>
<b class="nc">&nbsp;			mergeNE(x, y, z);</b>
&nbsp;		}
&nbsp;	}
&nbsp;
&nbsp;	public void merge(Point3D pt) {
<b class="nc">&nbsp;		merge(pt.x, pt.y, pt.z);</b>
&nbsp;	}
&nbsp;	
&nbsp;	public void merge(Envelope3D other) {
<b class="nc">&nbsp;		if (other.isEmpty())</b>
&nbsp;			return;
&nbsp;
<b class="nc">&nbsp;		merge(other.xmin, other.ymin, other.zmin);</b>
<b class="nc">&nbsp;		merge(other.xmax, other.ymax, other.zmax);</b>
&nbsp;	}
&nbsp;
&nbsp;	public void merge(double x1, double y1, double z1, double x2, double y2,
&nbsp;			double z2) {
<b class="nc">&nbsp;		merge(x1, y1, z1);</b>
<b class="nc">&nbsp;		merge(x2, y2, z2);</b>
&nbsp;	}
&nbsp;
&nbsp;	public void inflate(double dx, double dy, double dz) {
<b class="nc">&nbsp;		if (isEmpty())</b>
&nbsp;			return;
<b class="nc">&nbsp;		xmin -= dx;</b>
<b class="nc">&nbsp;		xmax += dx;</b>
<b class="nc">&nbsp;		ymin -= dy;</b>
<b class="nc">&nbsp;		ymax += dy;</b>
<b class="nc">&nbsp;		zmin -= dz;</b>
<b class="nc">&nbsp;		zmax += dz;</b>
<b class="nc">&nbsp;		if (xmin &gt; xmax || ymin &gt; ymax || zmin &gt; zmax)</b>
<b class="nc">&nbsp;			setEmpty();</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Checks if this envelope intersects the other.
&nbsp;	 *
&nbsp;	 * @return True if this envelope intersects the other.
&nbsp;	 */
&nbsp;	public boolean isIntersecting(Envelope3D other) {
<b class="nc">&nbsp;		return !isEmpty() &amp;&amp; !other.isEmpty() &amp;&amp; ((xmin &lt;= other.xmin) ? xmax &gt;= other.xmin : other.xmax &gt;= xmin) &amp;&amp; // check that x projections overlap</b>
<b class="nc">&nbsp;			((ymin &lt;= other.ymin) ? ymax &gt;= other.ymin : other.ymax &gt;= ymin) &amp;&amp; // check that y projections overlap</b>
<b class="nc">&nbsp;			((zmin &lt;= other.zmin) ? zmax &gt;= other.zmin : other.zmax &gt;= zmin); // check that z projections overlap</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Intersects this envelope with the other and stores result in this
&nbsp;	 * envelope.
&nbsp;	 *
&nbsp;	 * @return True if this envelope intersects the other, otherwise sets this
&nbsp;	 * envelope to empty state and returns False.
&nbsp;	 */
&nbsp;	public boolean intersect(Envelope3D other) {
<b class="nc">&nbsp;		if (isEmpty() || other.isEmpty())</b>
<b class="nc">&nbsp;			return false;</b>
&nbsp;
<b class="nc">&nbsp;		if (other.xmin &gt; xmin)</b>
<b class="nc">&nbsp;			xmin = other.xmin;</b>
&nbsp;
<b class="nc">&nbsp;		if (other.xmax &lt; xmax)</b>
<b class="nc">&nbsp;			xmax = other.xmax;</b>
&nbsp;
<b class="nc">&nbsp;		if (other.ymin &gt; ymin)</b>
<b class="nc">&nbsp;			ymin = other.ymin;</b>
&nbsp;
<b class="nc">&nbsp;		if (other.ymax &lt; ymax)</b>
<b class="nc">&nbsp;			ymax = other.ymax;</b>
&nbsp;
<b class="nc">&nbsp;		if (other.zmin &gt; zmin)</b>
<b class="nc">&nbsp;			zmin = other.zmin;</b>
&nbsp;
<b class="nc">&nbsp;		if (other.zmax &lt; zmax)</b>
<b class="nc">&nbsp;			zmax = other.zmax;</b>
&nbsp;
<b class="nc">&nbsp;		boolean bIntersecting = xmin &lt;= xmax &amp;&amp; ymin &lt;= ymax &amp;&amp; zmin &lt;= zmax;</b>
&nbsp;
<b class="nc">&nbsp;		if (!bIntersecting)</b>
<b class="nc">&nbsp;			setEmpty();</b>
&nbsp;
<b class="nc">&nbsp;		return bIntersecting;</b>
&nbsp;	}
&nbsp;
&nbsp;	/**
&nbsp;	 * Returns True if the envelope contains the other envelope (boundary
&nbsp;	 * inclusive).
&nbsp;	 */
&nbsp;	public boolean contains(Envelope3D other) {// Note: Will return False, if either envelope is empty.
<b class="nc">&nbsp;		return other.xmin &gt;= xmin &amp;&amp; other.xmax &lt;= xmax &amp;&amp; other.ymin &gt;= ymin &amp;&amp; other.ymax &lt;= ymax &amp;&amp; other.zmin &gt;= zmin &amp;&amp; other.zmax &lt;= zmax;</b>
&nbsp;	}
&nbsp;
&nbsp;	@Override
&nbsp;	public boolean equals(Object _other) {
<b class="nc">&nbsp;		if (_other == this)</b>
<b class="nc">&nbsp;			return true;</b>
&nbsp;
<b class="nc">&nbsp;		if (!(_other instanceof Envelope3D))</b>
<b class="nc">&nbsp;			return false;</b>
&nbsp;
<b class="nc">&nbsp;		Envelope3D other = (Envelope3D) _other;</b>
<b class="nc">&nbsp;		if (isEmpty() &amp;&amp; other.isEmpty())</b>
<b class="nc">&nbsp;			return true;</b>
&nbsp;
<b class="nc">&nbsp;		if (xmin != other.xmin || ymin != other.ymin || zmin != other.zmin || xmax != other.xmax || ymax != other.ymax || zmax != other.zmax)</b>
<b class="nc">&nbsp;			return false;</b>
&nbsp;
<b class="nc">&nbsp;		return true;</b>
&nbsp;	}
&nbsp;
&nbsp;	
&nbsp;	@Override
&nbsp;	public int hashCode() {
<b class="nc">&nbsp;		if (isEmpty()) {</b>
<b class="nc">&nbsp;			return NumberUtils.hash(NumberUtils.TheNaN);</b>
&nbsp;		}
&nbsp;		
<b class="nc">&nbsp;		int hash = NumberUtils.hash(xmin);</b>
<b class="nc">&nbsp;		hash = NumberUtils.hash(hash, xmax);</b>
<b class="nc">&nbsp;		hash = NumberUtils.hash(hash, ymin);</b>
<b class="nc">&nbsp;		hash = NumberUtils.hash(hash, ymax);</b>
<b class="nc">&nbsp;		hash = NumberUtils.hash(hash, zmin);</b>
<b class="nc">&nbsp;		hash = NumberUtils.hash(hash, zmax);</b>
<b class="nc">&nbsp;		return hash;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void construct(Envelope1D xinterval, Envelope1D yinterval,
&nbsp;			Envelope1D zinterval) {
<b class="nc">&nbsp;		if (xinterval.isEmpty() || yinterval.isEmpty()) {</b>
<b class="nc">&nbsp;			setEmpty();</b>
&nbsp;			return;
&nbsp;		}
&nbsp;
<b class="nc">&nbsp;		xmin = xinterval.vmin;</b>
<b class="nc">&nbsp;		xmax = xinterval.vmax;</b>
<b class="nc">&nbsp;		ymin = yinterval.vmin;</b>
<b class="nc">&nbsp;		ymax = yinterval.vmax;</b>
<b class="nc">&nbsp;		zmin = zinterval.vmin;</b>
<b class="nc">&nbsp;		zmax = zinterval.vmax;</b>
&nbsp;	}
&nbsp;
&nbsp;	public void queryCorners(Point3D[] corners) {
<b class="nc">&nbsp;		if ((corners == null) || (corners.length &lt; 8))</b>
<b class="nc">&nbsp;			throw new IllegalArgumentException();</b>
&nbsp;
<b class="nc">&nbsp;		corners[0] = new Point3D(xmin, ymin, zmin);</b>
<b class="nc">&nbsp;		corners[1] = new Point3D(xmin, ymax, zmin);</b>
<b class="nc">&nbsp;		corners[2] = new Point3D(xmax, ymax, zmin);</b>
<b class="nc">&nbsp;		corners[3] = new Point3D(xmax, ymin, zmin);</b>
<b class="nc">&nbsp;		corners[4] = new Point3D(xmin, ymin, zmax);</b>
<b class="nc">&nbsp;		corners[5] = new Point3D(xmin, ymax, zmax);</b>
<b class="nc">&nbsp;		corners[6] = new Point3D(xmax, ymax, zmax);</b>
<b class="nc">&nbsp;		corners[7] = new Point3D(xmax, ymin, zmax);</b>
&nbsp;
&nbsp;	}
&nbsp;
&nbsp;	public void setFromPoints(Point3D[] points) {
<b class="nc">&nbsp;		if (points == null || points.length == 0) {</b>
<b class="nc">&nbsp;			setEmpty();</b>
&nbsp;			return;
&nbsp;		}
&nbsp;
<b class="nc">&nbsp;		Point3D p = points[0];</b>
<b class="nc">&nbsp;		setCoords(p.x, p.y, p.z);</b>
<b class="nc">&nbsp;		for (int i = 1; i &lt; points.length; i++) {</b>
<b class="nc">&nbsp;			Point3D pt = points[i];</b>
<b class="nc">&nbsp;			mergeNE(pt.x, pt.y, pt.z);</b>
&nbsp;		}
&nbsp;	}
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-02-21 15:02</div>
</div>
</body>
</html>
